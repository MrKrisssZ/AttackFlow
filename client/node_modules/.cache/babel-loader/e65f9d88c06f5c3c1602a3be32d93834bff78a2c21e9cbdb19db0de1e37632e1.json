{"ast":null,"code":"var _jsxFileName = \"/Users/shenyiwei/Desktop/7015/web interface/fixbug/client/src/components/ReportDetails.js\",\n  _s = $RefreshSig$();\nimport { useReportsContext } from '../hooks/UseReportsContext';\nimport { useAuthContext } from '../hooks/UseAuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ReportDetails = ({\n  report,\n  validated\n}) => {\n  _s();\n  const {\n    dispatch\n  } = useReportsContext();\n  const {\n    user\n  } = useAuthContext();\n\n  // access the user's role\n  const userRole = user ? user.role : null;\n  const handleClick = async () => {\n    const response = await fetch('/api/reports/' + report._id, {\n      method: 'DELETE'\n    });\n    const json = await response.json();\n    if (response.ok) {\n      dispatch({\n        type: 'DELETE_REPORT',\n        payload: json\n      });\n    }\n  };\n  console.log('User Object: ', user);\n  console.log('User Role: ', userRole);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg my-5 mx-auto p-5 relative shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-lg font-semibold mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"URL: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 55\n      }, this), report.url]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Reported by: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 50\n      }, this), report.userID]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Reported: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 50\n      }, this), report.createdAt]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Last Modified: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 50\n      }, this), report.updatedAt]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Validated: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 50\n      }, this), report.validated.toString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), userRole === 'admin' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Validated: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 58\n        }, this), report.validated.toString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex justify-center rounded-md bg-gray w-24 mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: handleClick,\n          className: \"cursor-pointer bg-gray-200 rounded-full text-gray-600\",\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n_s(ReportDetails, \"V3tPfNrFfOTIlCv/v4wsF7oafX0=\", false, function () {\n  return [useReportsContext, useAuthContext];\n});\n_c = ReportDetails;\nexport default ReportDetails;\nvar _c;\n$RefreshReg$(_c, \"ReportDetails\");","map":{"version":3,"names":["useReportsContext","useAuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","ReportDetails","report","validated","_s","dispatch","user","userRole","role","handleClick","response","fetch","_id","method","json","ok","type","payload","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","url","userID","createdAt","updatedAt","toString","class","onClick","_c","$RefreshReg$"],"sources":["/Users/shenyiwei/Desktop/7015/web interface/fixbug/client/src/components/ReportDetails.js"],"sourcesContent":["import { useReportsContext } from '../hooks/UseReportsContext'\nimport { useAuthContext } from '../hooks/UseAuthContext'\n\nconst ReportDetails = ({ report, validated }) => {\n    const { dispatch } = useReportsContext()\n    const { user } = useAuthContext()\n\n    // access the user's role\n    const userRole = user ? user.role : null\n\n    const handleClick = async () => {\n        const response = await fetch('/api/reports/' + report._id, {\n            method: 'DELETE'\n        })\n        const json = await response.json()\n\n        if (response.ok) {\n            dispatch({ type: 'DELETE_REPORT', payload: json })\n        }\n    }\n    \n    console.log('User Object: ', user)\n    console.log('User Role: ', userRole)\n\n    return (\n        \n        <div className=\"bg-white rounded-lg my-5 mx-auto p-5 relative shadow-md\">\n            <p className=\"text-lg font-semibold mb-2\"><strong>URL: </strong>{report.url}</p>\n            <p className=\"text-sm text-gray-600\"><strong>Reported by: </strong>{report.userID}</p>\n            <p className=\"text-sm text-gray-600\"><strong>Reported: </strong>{report.createdAt}</p>\n            <p className=\"text-sm text-gray-600\"><strong>Last Modified: </strong>{report.updatedAt}</p>\n            <p className=\"text-sm text-gray-600\"><strong>Validated: </strong>{report.validated.toString()}</p>\n            {userRole === 'admin' && (\n                <>\n                    <p className=\"text-sm text-gray-600\"><strong>Validated: </strong>{report.validated.toString()}</p>\n                    <div class=\"flex justify-center rounded-md bg-gray w-24 mt-4\">\n                        <span onClick={handleClick} className=\"cursor-pointer bg-gray-200 rounded-full text-gray-600\">delete</span>\n                    </div>\n                </>\n            )}\n        </div >\n    )\n}\n\nexport default ReportDetails"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}