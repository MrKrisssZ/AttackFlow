{"ast":null,"code":"var _jsxFileName = \"/Users/shenyiwei/Desktop/7015/web interface/attackflow_15pg_Ruby/client/src/pages/Login.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useLogin } from '../hooks/UseLogin';\nimport { useAuthContext } from '../hooks/UseAuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [userID, setUserID] = useState('');\n  const [password, setPassword] = useState('');\n  const {\n    login,\n    error,\n    isLoading\n  } = useLogin();\n  const {\n    user\n  } = useAuthContext();\n  const location = useLocation();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await login(userID, password);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!user && /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"bg-white max-w-md my-10 mx-auto mt-8 p-5 rounded-2xl\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block\",\n        children: \"User ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"w-full p-2 mb-4 border border-gray-300 rounded\",\n        type: \"text\",\n        onChange: e => setUserID(e.target.value),\n        value: userID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"w-full p-2 mb-4 border border-gray-300 rounded\",\n        type: \"password\",\n        onChange: e => setPassword(e.target.value),\n        value: password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-primary text-white py-2 px-4 font-semibold rounded cursor-pointer\",\n        disabled: isLoading,\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5 py-2 px-4 bg-red-100 border border-red-500 text-red-500 rounded\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 17\n    }, this), user && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: [\"Welcome back! \", user.userID]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        state: {\n          redirectTo: location\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-primary\",\n          children: \"Back to Homepage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n_s(Login, \"Vnk9gx7hNFw1IrIgBZF/8COQzho=\", false, function () {\n  return [useLogin, useAuthContext, useLocation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","Link","useLocation","useLogin","useAuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","userID","setUserID","password","setPassword","login","error","isLoading","user","location","handleSubmit","e","preventDefault","children","className","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","target","value","disabled","to","state","redirectTo","_c","$RefreshReg$"],"sources":["/Users/shenyiwei/Desktop/7015/web interface/attackflow_15pg_Ruby/client/src/pages/Login.js"],"sourcesContent":["import { useState } from 'react'\nimport { Link, useLocation } from 'react-router-dom'\n\nimport { useLogin } from '../hooks/UseLogin'\nimport { useAuthContext } from '../hooks/UseAuthContext'\n\nconst Login = () => {\n    const [ userID, setUserID ] = useState('')\n    const [ password, setPassword ] = useState('')\n    const { login, error, isLoading } = useLogin()\n    const { user } = useAuthContext()\n    const location = useLocation()\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n\n        await login(userID, password)\n    }\n\n    return (\n        <>\n            {!user &&\n                <form className='bg-white max-w-md my-10 mx-auto mt-8 p-5 rounded-2xl' onSubmit={ handleSubmit }>\n                    <h3 className=\"text-lg font-semibold mb-4\">Log in</h3>\n        \n                    <label className='block'>User ID:</label>\n                    <input\n                        className='w-full p-2 mb-4 border border-gray-300 rounded'\n                        type='text'\n                        onChange={(e) => setUserID(e.target.value)}\n                        value={ userID }\n                    />\n                    <label>Password:</label>\n                    <input\n                        className='w-full p-2 mb-4 border border-gray-300 rounded'\n                        type='password'\n                        onChange={(e) => setPassword(e.target.value)}\n                        value={ password }\n                    />\n                    <button className='bg-primary text-white py-2 px-4 font-semibold rounded cursor-pointer' disabled={ isLoading }>\n                        Log in\n                    </button>\n                    { error && <div className='mt-5 py-2 px-4 bg-red-100 border border-red-500 text-red-500 rounded'>{ error }</div>}\n                </form>\n            }\n            {user &&\n                <>\n                    <h3 className=\"text-lg font-semibold mb-4\">Welcome back! { user.userID }</h3>\n                    <Link to ='/' state={{ redirectTo: location }}>\n                        <button className='text-primary'>\n                            Back to Homepage\n                        </button>\n                    </Link>\n                </>\n            } \n        </>\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}